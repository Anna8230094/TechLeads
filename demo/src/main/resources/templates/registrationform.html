<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8">
    <title>Hire&Go Registration Form</title>
    <link rel="stylesheet" href="/css/registration.css" />
  </head>
  <body>
    <h1>Hire&Go</h1>

    <form th:action="@{/registrationform}" th:object="${User}" method="post" enctype="multipart/form-data"></form>

        <fieldset>
            <p>Company's Information</p>
            <label for="name">Company's Name<input id="name" name="name" type="text" required /></label>
            <label for="field">Company's Field<input id="field" name="field" type="text" required /></label>
            <label for="email">User's Email<input id="email" name="email" type="email" required /></label>
        </fieldset>

        <fieldset>
            <p>Job Position's Requirements</p>
            <label for="hardskills">Hard Skills</label>
            <textarea id="hardskills" name="hardskills" rows="4" cols="50" required></textarea>
              
            <label for="softskills">Soft Skills</label>
            <textarea id="softskills" name="softskills" rows="4" cols="50" required></textarea>
            
            <label for="othertraits">Other Traits</label>
            <textarea id="othertraits" name="other-traits" rows="4" cols="50"></textarea>
        </fieldset>

        <fieldset>
          <p>Upload all CVs here!</p>
          <label for="files">Upload CVs:</label>
          <input id="files" name="cv-upload[]" type="file" multiple required />
      
          <ul id="file-list"></ul>
      </fieldset>
      
      <script>
          const fileInput = document.getElementById('files');
          const fileList = document.getElementById('file-list');
          let filesArray = [];
      
          // Όταν επιλέγονται αρχεία
          fileInput.addEventListener('change', (event) => {
              // Προσθέτουμε τα νέα αρχεία στη λίστα
              Array.from(event.target.files).forEach((file) => {
                  filesArray.push(file);
                  const listItem = document.createElement('li');
                  listItem.textContent = file.name;
                  fileList.appendChild(listItem);
              });
      
              // Αδειάζουμε το input για να επιτρέψουμε νέα επιλογή
              fileInput.value = '';
          });
      
          // Ενέργεια για το κουμπί "Add more files"
          document.getElementById('add-files').addEventListener('click', () => {
              fileInput.click();
          });
      </script>      
        
        <input type="submit" value="Submit"/>
    </form>
  </body>
</html>
